<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Giỏ hàng</title>
<link href="https://fonts.googleapis.com/css2?family=Bitter:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400;1,600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --main-color:white;
    --sub-color:#faf9f7;
    --text-color: black;
    --subtext-color: #777;
    --font-title: 'Lora', serif;
    --font-sub: 'Bitter', serif;
  }
body {
  margin:0;
  font-family: var(--font-title);
  background: #fff;
  color:var(--text-color);
  padding:0px 16px 24px;
  letter-spacing:0.2px;
}

/* EMPTY CART */
.cart-empty {
  min-height:60vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.empty-box {
  text-align:center;
  max-width:100%;
  padding:0px;
  margin: 0px;
}
.empty-title {
  font-weight: bold;
  font-size:100px;
  text-align: center;
  margin-top: px;
  margin-bottom:60px;
  font-weight: normal;
}
.empty-sub {
  font-size: 52px;
  color:var(--subtext-color);
}
.empty-sub2 {
  font-size: 52px;
  color: var(--subtext-color);
}
.empty-box p {
  margin: 0;
}

.empty-box p + p {
  margin-top: 20px;
}

/* CART PAGE */
.cart-page {
  max-width:2600px;
  margin:0 auto;
  display:none;
}
.cart-title { 
  font-size:100px; 
  margin-bottom:80px; 
  font-weight: normal;
}

/* CART ITEM GRID */
.cart-item {
  display:grid;
  grid-template-columns:430px 1000px 400px 380px 1fr;
  gap:14px;
  border-radius:20px;
  padding:0px 0px 10px;
  align-items:center;
  margin-bottom:80px;
  border: 2px solid #bababa;
}

.cart-item img {
  margin-left: 40px;
}

.item-name {
  padding-left: 5px;
  font-size:72px;
  font-weight:500;
  letter-spacing:0.5px;
  margin-bottom: 1dvh;
}

.item-price {
  padding-left: 5px;
  font-size: 44px;
  color:#777;
  margin-top:6px;
}

.total-price {
  font-weight: 500;
  font-size:52px;
  text-align:right;
  letter-spacing:0.5px;
  padding: 10px 0px 10px 20px;
}
.qty {
  display: flex;             /* xếp ngang */
  justify-content: left;   /* căn giữa theo chiều ngang */
  align-items: center;       /* căn giữa theo chiều dọc */
  gap: 20px;                  /* khoảng cách giữa các phần tử */
}

.qty button {
  border: 2px solid #bababa;
  background: transparent;
  border-radius: 10px;
  width: 100px;
  height: 100px;
  font-family: Bitter, serif;
  font-size: 54px;
  font-weight: 300;
  color:#777;
  display: flex;             /* để ký tự ± nằm giữa nút */
  justify-content: center;   /* ngang */
  align-items: center;       /* dọc */
  cursor: pointer;
  transition: transform 0.2 ease;
}
.qty button:hover {
  transform: scale(1.05); /* phóng to 5% */
  border: 2px solid #111;
  color:#111;
}
.qty input {
  padding-left: 20px;
  padding-right: 5px;
  width: 100px;
  border:none;
  font-size: 44px;
  font-family: Lora, serif;
  font-weight: 400;
  text-align: center;        /* số nằm giữa input */
}

.remove-btn {
  margin-left: 70px;
  padding:30px 50px;
  border:1px solid #ddd;
  border-radius:999px;
  background:transparent;
  background-color: #111;
  color:white;
  font-size:32px;
  font-family: Bitter, serif;
  font-weight: 600;
  letter-spacing:2px;
  text-transform:uppercase;
}

.remove-btn:hover {
  transform: scale(1.05); /* phóng to 5% */
  background-color: #111;
  border-color:#111;
  color:white;
}
/* CART SUMMARY */
.cart-summary {
  padding: 100px 0px;
  margin-top:100px;
  padding-top:30px;
  border-top:2px solid #ddd;
}

.cart-summary div {
  padding: 50px 0px 0px;
  display:flex;
  justify-content:space-between;
  font-size:52px;
  color: #777;
  margin-bottom:10px;
}

.cart-summary .total {
  padding: 20px 0px;
  margin-top: 20px;
  color: #111;
  font-size:66px;
  font-weight:500;
}

.checkout {
  width:100%;
  margin-top:40px;
  padding:40px;
  border:1px solid #111;
  border-radius:999px;
  background:#111;
  color:#fff;
  font-size:46px;
  font-weight: 400;
  font-family: Bitter, serif;
  letter-spacing:2px;
  text-transform:uppercase;
}

.checkout:hover {
  background:transparent;
  color:#111;
}

/* RESPONSIVE MOBILE */
@media(max-width:600px){
  .cart-item {
    grid-template-columns:80px 1fr;
    padding:16px;
  }

  .qty,
  .total-price,
  .remove-btn {
    grid-column:1/-1;
    text-align:center;
  }
}

</style>
</head>
<body>

<!-- EMPTY CART -->
<div class="cart-empty" id="empty-cart">
  <div class="empty-box">
    <h1 class="empty-title">Giỏ hàng của bạn đang trống</h1>
    <p class="empty-sub">Hiện chưa có sản phẩm nào được thêm vào giỏ. 
      <p class="empty-sub2">Tiếp tục khám phá để tìm ra chiếc bánh của riêng bạn.</p>
  </div>
</div>

<!-- CART PAGE -->
<div class="cart-page" id="cart-page">
  <h1 class="cart-title">Giỏ hàng</h1>
  <div id="cart-items"></div>

  <div class="cart-summary">
    <div><span>Tạm tính</span><span id="subtotal">0₫</span></div>
    <div class="total"><span>Tổng cộng</span><span id="grand-total">0₫</span></div>
    <button class="checkout">Tiến hành thanh toán</button>
  </div>
</div>

<script>
// Load giỏ hàng từ localStorage
function loadCart(){
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const cartPage = document.getElementById("cart-page");
  const emptyCart = document.getElementById("empty-cart");
  const container = document.getElementById("cart-items");
  container.innerHTML="";

  if(cart.length===0){
    cartPage.style.display="none";
    emptyCart.style.display="flex";
    return;
  }

  cartPage.style.display="block";
  emptyCart.style.display="none";

  let grandTotal=0;

  cart.forEach((item,index)=>{
    const total=item.price*item.quantity;
    grandTotal+=total;

    const div=document.createElement("div");
    div.className="cart-item";
    div.innerHTML=`
      <div><img src="${item.image}" alt="${item.name}" style="width:360px;height:360px;object-fit:cover;border-radius:6px;"></div>
      <div>
        <div class="item-name">${item.name}</div>
        <div class="item-price">${item.price.toLocaleString()}₫</div>
      </div>
      <div class="qty">
        <button onclick="changeQty(${index},-1)">−</button>
        <input type="number" value="${item.quantity}" min="1" onchange="updateQty(${index},this.value)">
        <button onclick="changeQty(${index},1)">+</button>
      </div>
      <div class="total-price">${total.toLocaleString()}₫</div>
      <div><button class="remove-btn" onclick="removeItem(${index})">Xóa</button></div>
    `;
    container.appendChild(div);
  });

  document.getElementById("subtotal").innerText=grandTotal.toLocaleString()+"₫";
  document.getElementById("grand-total").innerText=grandTotal.toLocaleString()+"₫";
}

// Thay đổi số lượng
function changeQty(index,delta){
  const cart=JSON.parse(localStorage.getItem("cart"))||[];
  cart[index].quantity+=delta;
  if(cart[index].quantity<1) cart[index].quantity=1;
  localStorage.setItem("cart",JSON.stringify(cart));
  loadCart();
}

// Cập nhật số lượng từ input
function updateQty(index,value){
  const cart=JSON.parse(localStorage.getItem("cart"))||[];
  cart[index].quantity=parseInt(value)||1;
  localStorage.setItem("cart",JSON.stringify(cart));
  loadCart();
}

// Xóa sản phẩm
function removeItem(index){
  const cart=JSON.parse(localStorage.getItem("cart"))||[];
  cart.splice(index,1);
  localStorage.setItem("cart",JSON.stringify(cart));
  loadCart();
}

// Load khi mở trang
loadCart();
</script>

</body>
</html>
