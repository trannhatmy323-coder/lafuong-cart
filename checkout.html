<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Thanh toán</title>
<link href="https://fonts.googleapis.com/css2?family=Bitter:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400;1,600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --main-color:white;
  --sub-color:#faf9f7;
  --text-color:black;
  --subtext-color:#777;
  --font-title:'Lora', serif;
  --font-sub:'Bitter', serif;
}

body {
  margin:0;
  font-family: var(--font-title);
  background: #fff;
  color: var(--text-color);
  padding: 24px 16px;
  letter-spacing:0.2px;
  display:flex;
  justify-content:center;
}

.container {
  margin: 0px;
  max-width:1000px;
  width:100%;
}

/* Quay lại giỏ hàng */
.back-btn {
  margin-top: 0px;
  display: inline-flex;
  align-items:center;
  padding: 10px 15px;
  border: 1px solid #111;
  border-radius: 5px;
  background: #111;
  color: #fff;
  font-family: Bitter, serif;
  font-size: 16px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 1px;
  cursor: pointer;
  transition: all 0.2s ease;
  text-decoration: none;
}

.back-btn:hover {
  background: transparent;
  color: #111;
}

.back-btn svg {
  width:16px;
  height:16px;
  margin-right:6px;
  fill:white;
}

.back-btn:hover svg {
  fill:#111;
}

/* Heading */
h1 {
  margin-top: 5px;
  font-size: 52px;
  font-weight: 400;
  margin-bottom:30px;
  text-align:center;
}

/* CART ITEM */
.cart-item {
  display:grid;
  grid-template-columns:160px 400px 160px 190px;
  gap:14px;
  border-radius:10px;
  align-items:center;
  margin-bottom:20px;
  border:1px solid #bababa;
  padding:0px 12px;
}

.cart-item img {
  width:150px;
  height:150px;
  object-fit:cover;
  border-radius:6px;
}

.item-name {
  font-size:32px;
  font-weight:400;
  letter-spacing:0.5px;
  margin-bottom: 1dvh;
}

.item-subtitle {
  font-family: var(--font-sub);
  font-weight: 300;
  font-size:16px;
  color:black;
  margin-top:4px;
}

.item-price {
  font-size:16px;
  font-weight:400;
  color:black;
  margin-top:8px;
}

.qty {
  text-align: right;
  font-size:20px;
}

.total-price {
  font-size:24px;
  font-weight:500;
  letter-spacing: 0.2px;
  text-align:right;
  color:black;
  padding-left: 20px;
}

/* SUMMARY */
.summary {
  margin-top:40px;
  font-size:20px;
  display:flex;
  flex-direction:column;
  gap:10px;
  border-top:1px solid #ddd;
  padding-top:20px;
  margin-bottom: 0px;
}

.summary div {
  display:flex;
  justify-content:space-between;
  padding-top: 10px;
  color: #777;
}

.summary div.total {
  margin-top: 20px;
  border-top: 1px solid #ddd;
  padding-top: 20px;
  font-weight:500;
  font-size:28px;
  color: #111;
  margin-bottom: 0px;
}

</style>
</head>
<body>

<div class="container">

  <!-- NÚT QUAY LẠI Ở TRÊN -->
  <a href="cart.html" class="back-btn">
    <!-- icon mũi tên quay lại -->
    <svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
    Quay lại giỏ hàng
  </a>

  <h1>Thanh toán</h1>

  <div id="checkout-items"></div>

  <div class="summary">
    <div><span>Tạm tính</span><span id="subtotal">0₫</span></div>
    <div><span>Phí vận chuyển</span><span id="shipping">30.000₫</span></div>
    <div class="total"><span>Tổng cộng</span><span id="grand-total">0₫</span></div>
  </div>

</div>

<script>
// Lấy giỏ hàng từ localStorage
const cart = JSON.parse(localStorage.getItem("cart")) || [];
const containerDiv = document.getElementById("checkout-items");
let subtotal = 0;
const shippingFee = 30000;

cart.forEach(item => {
  const total = item.price * item.quantity;
  subtotal += total;

  const div = document.createElement("div");
  div.className = "cart-item";
  div.innerHTML = `
    <div><img src="${item.image}" alt="${item.name}"></div>
    <div>
      <div class="item-name">${item.name}</div>
      <div class="item-subtitle">${item.subtitle || ''}</div>
      <div class="item-price">${item.price.toLocaleString()}₫</div>
    </div>
    <div class="qty">x${item.quantity}</div>
    <div class="total-price">${total.toLocaleString()}₫</div>
  `;
  containerDiv.appendChild(div);
});

document.getElementById("subtotal").innerText = subtotal.toLocaleString() + "₫";
document.getElementById("grand-total").innerText = (subtotal + shippingFee).toLocaleString() + "₫";
</script>

</body>
</html>
